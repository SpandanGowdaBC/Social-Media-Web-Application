{% extends 'base.html' %}
{% load static %}

{% block title %}{{ list_type|title }} - {{ profile_user.username }}{% endblock %}

{% block content %}
<div class="container">
    <div class="follow-list-container">
        <div class="follow-list-header">
            <a href="{% url 'profile' profile_user.username %}" class="back-link">‚Üê Back to Profile</a>
            <h2>{{ profile_user.username }}'s {{ list_type|title }}</h2>
        </div>
        
        <div class="users-list">
            {% for user in users %}
            <div class="user-item">
                <a href="{% url 'profile' user.username %}" class="user-info">
                    {% if user.profile.profile_picture %}
                    <img src="{{ user.profile.profile_picture.url }}" alt="{{ user.username }}" class="user-avatar">
                    {% else %}
                    <div class="user-avatar default-avatar-small">{{ user.username|first|upper }}</div>
                    {% endif %}
                    <div class="user-details">
                        <strong>{{ user.username }}</strong>
                        {% if user.profile.bio %}
                        <span class="user-bio">{{ user.profile.bio|truncatewords:10 }}</span>
                        {% endif %}
                    </div>
                </a>
                {% if user != request.user %}
                <button class="btn btn-sm {% if user.id in following_ids %}btn-outline{% else %}btn-primary{% endif %} follow-btn-list" data-username="{{ user.username }}">
                    {% if user.id in following_ids %}Unfollow{% else %}Follow{% endif %}
                </button>
                {% endif %}
            </div>
            {% empty %}
            <div class="empty-state">
                <p>No {{ list_type }} yet.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
